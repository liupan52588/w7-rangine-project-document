(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-663a6d76"],{"01d6":function(e,t,r){"use strict";var i=r("beaf"),s=r.n(i);s.a},"08d8":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"setting-thirdParty"},[r("div",{staticClass:"page-head"},[e._v("自定义授权配置")]),r("el-form",{ref:"customForm",attrs:{model:e.formData,"status-icon":"","label-position":"left"}},e._l(e.formData.customList,(function(t,i){return r("div",{key:i,staticClass:"we7-panel-form"},[r("div",{staticClass:"we7-panel-form__header"},[e._v("\n        自定义第三方授权配置\n        "),i>0?r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.del(i)}}},[e._v("删除")]):e._e()],1),r("div",{staticClass:"we7-panel-form__body edit"},[r("el-form-item",{attrs:{label:"授权登录","label-width":"290px"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.setting.enable,callback:function(r){e.$set(t.setting,"enable",r)},expression:"item.setting.enable"}})],1)],1),r("div",{staticClass:"we7-panel-form__header"},[e._v("\n        自定义第三方登陆配置\n        ")]),r("div",{staticClass:"we7-panel-form__body edit"},[r("el-form-item",{attrs:{label:"第三方名称","label-width":"290px",prop:"customList."+i+".setting.name",rules:e.rules.name}},[r("el-input",{model:{value:t.setting.name,callback:function(r){e.$set(t.setting,"name",r)},expression:"item.setting.name"}})],1),r("el-form-item",{attrs:{label:"LOGO","label-width":"290px",prop:"customList."+i+".setting.logo",rules:e.rules.logo}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/admin/upload/image","show-file-list":!1,"before-upload":e.beforeAvatarUpload,"on-success":function(t,r){return e.handleAvatarSuccess(t,r,i)}}},[t.setting.logo?r("img",{staticClass:"avatar",attrs:{src:t.setting.logo}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"APPID","label-width":"290px",prop:"customList."+i+".setting.app_id",rules:e.rules.app_id}},[r("el-input",{model:{value:t.setting.app_id,callback:function(r){e.$set(t.setting,"app_id",r)},expression:"item.setting.app_id"}})],1),r("el-form-item",{attrs:{label:"SERCETkey","label-width":"290px",prop:"customList."+i+".setting.secret_key",rules:e.rules.secret_key}},[r("el-input",{model:{value:t.setting.secret_key,callback:function(r){e.$set(t.setting,"secret_key",r)},expression:"item.setting.secret_key"}})],1),r("el-form-item",{attrs:{label:"ACCESSTOKEN  API地址","label-width":"290px",prop:"customList."+i+".setting.access_token_url",rules:e.rules.access_token_url}},[r("el-input",{model:{value:t.setting.access_token_url,callback:function(r){e.$set(t.setting,"access_token_url",r)},expression:"item.setting.access_token_url"}})],1),r("el-form-item",{attrs:{label:"获取用户信息  API地址","label-width":"290px",prop:"customList."+i+".setting.user_info_url",rules:e.rules.user_info_url}},[r("el-input",{model:{value:t.setting.user_info_url,callback:function(r){e.$set(t.setting,"user_info_url",r)},expression:"item.setting.user_info_url"}})],1)],1),r("div",{staticClass:"we7-panel-form__header"},[r("span",[e._v("转换功能")])]),r("div",{staticClass:"we7-panel-form__body edit"},[r("el-form-item",{attrs:{label:"uid","label-width":"290px"}},[r("el-input",{model:{value:t.convert.uid,callback:function(r){e.$set(t.convert,"uid",r)},expression:"item.convert.uid"}}),r("div",{staticClass:"we7-help-block"},[e._v("请填写第三方系统用户id的字段")])],1),r("el-form-item",{attrs:{label:"username","label-width":"290px"}},[r("el-input",{model:{value:t.convert.username,callback:function(r){e.$set(t.convert,"username",r)},expression:"item.convert.username"}}),r("div",{staticClass:"we7-help-block"},[e._v("请填写第三方系统用户名的字段")])],1)],1)])})),0),r("el-button",{attrs:{type:"text"},on:{click:e.add}},[e._v("+添加自定义授权")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)},s=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("bd86"));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={data:function(){return{formData:{customList:[{setting:{enable:1},convert:{}}]},rules:{name:[{required:!0,message:"请填写第三方名称",trigger:"blur"}],logo:[{required:!0,message:"请上传LOGO",trigger:"blur"}],app_id:[{required:!0,message:"请填写APPID",trigger:"blur"}],secret_key:[{required:!0,message:"请填写SERCETkey",trigger:"blur"}],access_token_url:[{required:!0,message:"请填写ACCESSTOKEN",trigger:"blur"}],user_info_url:[{required:!0,message:"请填写获取用户信息",trigger:"blur"}]}}},methods:{add:function(){this.formData.customList.push({editStatus:!0,setting:{enable:1},convert:{}})},del:function(e){this.formData.customList.splice(e,1)},handleAvatarSuccess:function(e,t,r){this.$set(this.formData.customList[r].setting,"logo",e.data.url)},beforeAvatarUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传LOGO只支持jpg、jpeg、png格式!"),r||this.$message.error("上传LOGO大小不能超过 2MB!"),t&&r},save:function(){var e=this;this.$refs.customForm.validate((function(t){if(t){var r={setting:o({},e.formData.customList[0].setting),convert:o({},e.formData.customList[0].convert)};e.$post("/admin/third-party-login/add",r).then((function(){e.$message("添加成功！"),e.$emit("refreshMenu",!0)}))}}))}}},c=l,u=(r("01d6"),r("2877")),f=Object(u["a"])(c,i,s,!1,null,null,null);t["default"]=f.exports},"11e9":function(e,t,r){var i=r("52a7"),s=r("4630"),n=r("6821"),a=r("6a99"),o=r("69a8"),l=r("c69a"),c=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?c:function(e,t){if(e=n(e),t=a(t,!0),l)try{return c(e,t)}catch(r){}if(o(e,t))return s(!i.f.call(e,t),e[t])}},"454f":function(e,t,r){r("46a7");var i=r("584a").Object;e.exports=function(e,t,r){return i.defineProperty(e,t,r)}},"456d":function(e,t,r){var i=r("4bf8"),s=r("0d58");r("5eda")("keys",(function(){return function(e){return s(i(e))}}))},"46a7":function(e,t,r){var i=r("63b6");i(i.S+i.F*!r("8e60"),"Object",{defineProperty:r("d9f6").f})},"5eda":function(e,t,r){var i=r("5ca1"),s=r("8378"),n=r("79e5");e.exports=function(e,t){var r=(s.Object||{})[e]||Object[e],a={};a[e]=t(r),i(i.S+i.F*n((function(){r(1)})),"Object",a)}},"85f2":function(e,t,r){e.exports=r("454f")},"8e6e":function(e,t,r){var i=r("5ca1"),s=r("990b"),n=r("6821"),a=r("11e9"),o=r("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){var t,r,i=n(e),l=a.f,c=s(i),u={},f=0;while(c.length>f)r=l(i,t=c[f++]),void 0!==r&&o(u,t,r);return u}})},9093:function(e,t,r){var i=r("ce10"),s=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,s)}},"990b":function(e,t,r){var i=r("9093"),s=r("2621"),n=r("cb7c"),a=r("7726").Reflect;e.exports=a&&a.ownKeys||function(e){var t=i.f(n(e)),r=s.f;return r?t.concat(r(e)):t}},ac6a:function(e,t,r){for(var i=r("cadf"),s=r("0d58"),n=r("2aba"),a=r("7726"),o=r("32e9"),l=r("84f2"),c=r("2b4c"),u=c("iterator"),f=c("toStringTag"),p=l.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=s(m),g=0;g<d.length;g++){var b,v=d[g],_=m[v],h=a[v],y=h&&h.prototype;if(y&&(y[u]||o(y,u,p),y[f]||o(y,f,v),l[v]=p,_))for(b in i)y[b]||n(y,b,i[b],!0)}},bd86:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("85f2"),s=r.n(i);function n(e,t,r){return t in e?s()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},beaf:function(e,t,r){},f1ae:function(e,t,r){"use strict";var i=r("86cc"),s=r("4630");e.exports=function(e,t,r){t in e?i.f(e,t,s(0,r)):e[t]=r}}}]);